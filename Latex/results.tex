\chapter{Conclusion and Future Work}
\label{chp:results}



\noindent In this thesis I have used \glspl{microcontroller}, sensors, \glspl{singleBoardComputer} and a stationary computer to build an \gls{iot} network. Using this network I have tested some of the choices a system developer can face when transporting data through the network, particularly emphasising Bluetooth Low Energy and 6LoWPAN. Central topics for discussion has been analysis of data with respect to network capacity, network exploitation, transfer rate and power usage. 

\noindent From the results presented concerning fragmentation of data, the thesis argues that neither in \gls{coap} \gls{con} or \gls{non} is fragmentation a major concern. Both the max size of 31 bytes of \gls{ble} packets and 270 bytes of \gls{6lowpan} packets was exceeded in the test, without having major affect on the percentage of \gls{payload} sent through the network compared to the total \gls{throughput}. This would otherwise have resulted in a more uneven slope of the graphs presented. 

\noindent In addition to this, the thesis has presented experiments to analyse and discuss the \gls{goodput} in the system. Results shows that \gls{coap} \gls{con} is faster for smaller \glspl{payload}, while \gls{non} if the \gls{payload} is bigger than 500 bytes. The highest \gls{goodput} achieved was 611 bytes/second, and overall the system needs almost 1 additional second for every 500 bytes of \gls{payload} being added. This is quite slow compared to the limitations of the different technologies used, and it is being discussed what can be the main reason for this. The author did not have the resources to investigate this in detail within the time frame, but it seems reasonable to assume that the limitation is not \gls{ble} or \gls{6lowpan}, but rather limitations in the computational power or wireless antennas of one of the devices used. 

\noindent The last experiment presented shows that \gls{non} require the least packets in best case, but also the most in worst case to transfer the same \gls{payload}. Despite this, \gls{non} most of the time manages to stay on best case, giving it the best \% payload of all packets sent at 500 bytes, with 83,56 \% compared to 63,21 \% in \gls{con}.

\noindent All results put together shows that both \gls{ble} and \gls{6lowpan} works in such a system, together with both versions of \gls{coap} tested. In some cases the network was stable and reliable, but there where also several limitations which lead to problems during the testing. Limited sending frequency, limited payloads and difficulties when connecting to other devices is the most central. Still I will say the network is a very interesting stating point to a more complex \gls{iot} system, that can definitely be used as a starting point for future projects. 


\section{Future work}

\noindent This thesis does not have any direct previous works, but explains how to build a basic \gls{iot} system using devices of different size and limitations. The project has had a limited time frame, and naturally this leads to several possibilities concerning future works, both by adding other objectives and to complete the objective that was not fully completed in this thesis. 

\noindent A proposed future work is to build the network further both with \glspl{microcontroller} and computational power, as a direct addition to the system presented. The system can be expanded a lot both concerning bigger and smaller devices, for instance can several sensors be connected to the same \gls{microcontroller}, and several \glspl{microcontroller}, both \glspl{nRF52} and others, can be connected at the same time to get a more real world environment to test data. In the other end the system can be set up both to ask for computational power from a supercomputer or to automatically display the results on a web page on a database. It would then be possible create a more user friendly \gls{ui}, which would make it easier to test and analyse even bigger loads of data sent through the system. 


%\begin{figure}[ht]
%    \centering
%    \includegraphics[width=1.0\textwidth]{ArchitectureChapIntro1.png}    
%    \caption{Complete system architecture}
%    \label{fig:systemArchitectureFuture}
%\end{figure}



